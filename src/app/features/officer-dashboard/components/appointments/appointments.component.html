<div class="appointments-container">
  <div class="header">
    <h1>Appointments</h1>
    <div class="header-actions">
      <button mat-button class="filter-btn">
        <mat-icon>filter_list</mat-icon>
        Filter
      </button>
      <button mat-raised-button color="primary" class="add-btn">
        <mat-icon>add</mat-icon>
        New Appointment
      </button>
    </div>
  </div>

  <div class="appointments-grid">
    <!-- Today's Appointments -->
    <div class="section">
      <div class="section-header">
        <mat-icon>today</mat-icon>
        <h2>Today's Appointments</h2>
      </div>
      <button mat-icon-button class="scroll-arrow left" (click)="scrollCards('today', -1)">
        <mat-icon>chevron_left</mat-icon>
      </button>
      <div class="cards-container" #todayCards>
        <div class="appointment-card" *ngFor="let appointment of todayAppointments">
          <div class="card-header" [class]="appointment.status.toLowerCase()">
            <div class="time-badge">
              <mat-icon>schedule</mat-icon>
              {{appointment.time}}
            </div>
            <div class="status-badge" [class]="appointment.status.toLowerCase()">
              {{appointment.status}}
            </div>
          </div>
          <div class="card-content">
            <div class="user-info">
              <div class="avatar">
                <mat-icon>person</mat-icon>
              </div>
              <div class="details">
                <h3>{{appointment.userName}}</h3>
              </div>
            </div>
            <div class="appointment-details">
              <div class="detail-item">
                <mat-icon>location_on</mat-icon>
                <span>{{appointment.location}}</span>
              </div>
              <div class="detail-item">
                <mat-icon>description</mat-icon>
                <span>{{appointment.notes}}</span>
              </div>
            </div>
          </div>
          <div class="card-actions">
            <button mat-button class="action-btn view" (click)="viewDetails(appointment.userId , appointment.id)">
              <mat-icon>visibility</mat-icon>
              Upload
            </button>
            <button mat-button class="action-btn edit" [matMenuTriggerFor]="menu">
              <mat-icon>more_vert</mat-icon>
              Actions
            </button>
            <mat-menu #menu="matMenu">
              <button mat-menu-item (click)="cancelAppointment(appointment.id)">
                <mat-icon>cancel</mat-icon>
                <span>Cancel Appointment</span>
              </button>
              <button mat-menu-item (click)="markAsMissed(appointment.id)">
                <mat-icon>event_busy</mat-icon>
                <span>Mark as Missed</span>
              </button>
            </mat-menu>
          </div>
        </div>
      </div>
      <button mat-icon-button class="scroll-arrow right" (click)="scrollCards('today', 1)">
        <mat-icon>chevron_right</mat-icon>
      </button>
    </div>

    <!-- Upcoming Appointments -->
    <div class="section">
      <div class="section-header">
        <mat-icon>event</mat-icon>
        <h2>Upcoming Appointments</h2>
      </div>
      <button mat-icon-button class="scroll-arrow left" (click)="scrollCards('upcoming', -1)">
        <mat-icon>chevron_left</mat-icon>
      </button>
      <div class="cards-container" #upcomingCards>
        <div class="appointment-card" *ngFor="let appointment of upcomingAppointments">
          <div class="card-header"  [class]="appointment.status.toLowerCase()">
            <div class="date-badge">
              <mat-icon>calendar_today</mat-icon>
              {{appointment.date}}
            </div>
            <div class="time-badge">
              <mat-icon>schedule</mat-icon>
              {{appointment.time}}
            </div>
          </div>
          <div class="card-content">
            <div class="user-info">
              <div class="avatar">
                <mat-icon>person</mat-icon>
              </div>
              <div class="details">
                <h3>{{appointment.userName}}</h3>
              </div>
            </div>
            <div class="appointment-details">
              <div class="detail-item">
                <mat-icon>location_on</mat-icon>
                <span>{{appointment.location}}</span>
              </div>
              <div class="detail-item">
                <mat-icon>description</mat-icon>
                <span>{{appointment.notes}}</span>
              </div>
            </div>
          </div>
          <div class="card-actions">
            <button mat-button class="action-btn view" (click)="viewDetails(appointment.userId, appointment.id)">
              <mat-icon>visibility</mat-icon>
              Upload
            </button>
            <button mat-button class="action-btn edit" [matMenuTriggerFor]="menu">
              <mat-icon>more_vert</mat-icon>
              Actions
            </button>
            <mat-menu #menu="matMenu">
              <button mat-menu-item (click)="cancelAppointment(appointment.id)">
                <mat-icon>cancel</mat-icon>
                <span>Cancel Appointment</span>
              </button>
              <button mat-menu-item (click)="markAsMissed(appointment.id)">
                <mat-icon>event_busy</mat-icon>
                <span>Mark as Missed</span>
              </button>
            </mat-menu>
          </div>
        </div>
      </div>
      <button mat-icon-button class="scroll-arrow right" (click)="scrollCards('upcoming', 1)">
        <mat-icon>chevron_right</mat-icon>
      </button>
    </div>
  </div>
</div>

